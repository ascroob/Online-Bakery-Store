<h2 align = "center">Your Shopping Cart</h2>

<br>
    <input type="button" value="Purchase Items" id="purch" (click)="purchCart()">
    <input type="button" value="Clear Cart" id="clear" (click)="clearCart()">
    <div *ngIf = "clear">
        <p>Are you sure you want to clear items from the cart?</p>
         <input type="button" value="Yes, clear cart" id="clear" (click)="removeAll()">
        <input type="button" value="No, save my items" id="save" (click)="save()">
    </div>
    

<br><br>
<button (click)="userEmail()">View Cart Items</button>

<div *ngFor="let cart of carts" >
    <ul>        
        <ng-container *ngFor = "let product of products" >
            <div *ngIf = "cart.username == (_authService.user | async)?.email">
                <div  *ngIf = "cart.productID == product._id">
                    <li>   
                        Item: {{product.name}}
                        Quantity: {{cart.amount}}
                        <input type="button" value="-"  [id] = "product._id" (click)="minus($event, cart._id)">
                        <input type="button" value="+" [id] = "product._id" (click)="plus($event, cart._id)">
                        <input type="button" value="Remove From Cart" [id] = "product._id" (click)="remove($event, cart._id)">
                    </li> <br>
                </div>
            </div>
        </ng-container>
    </ul>
</div>
<br><br>
<input type = "button" value = "Cart Total" (click) = "cartTotal()">
<div *ngIf = "viewTotal">
<h4>Cart Total: ${{total}}</h4> 
</div>



<br>
